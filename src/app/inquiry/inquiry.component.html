<ng-template #newquoteprice>
      <button type="button" class="btn btn-default" (click)='this.modalRef.hide()'>
      Cancel
      </button>
      <button type="submit" class="btn btn-success"  >
        Submit New Price
      </button>
</ng-template>
<ng-template #quotepriceaction>
    <button type="button" class="btn btn-default" (click)='onChangePriceStatus("rejected")'>
        Counter
    </button>
    <button type="button" class="btn btn-success"  (click)='onChangePriceStatus("accepted")'>
        Accept
    </button>
</ng-template>
<ng-template #summery>
    <div class="modal-header">
      <h4 class="modal-title pull-left">Inquiry Summary</h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body" style="border-bottom: 1px solid #265728 !important">
        <form class="form-horizontal"  #f="ngForm">
          <div class="col-lg-6 col-xs-12">
            <p><b>Loading Details</b>
            </p>
            <div class="row">
              <div class="col-md-3">
                  <label  class=" control-label">Supplier</label>
              </div>
              <div class="col-md-4">
                {{load.supplier}}
              </div>
            </div>
            <div class="row">
              <div class="col-md-3">
                  <label  class=" control-label">Port</label>
              </div>
              <div class="col-md-4">
                {{load.port}}
              </div>
            </div>
            <div class="row">
              <div class="col-md-3">
                  <label  class=" control-label">Load Terminal</label>
              </div>
              <div class="col-md-4">
                {{load.load_terminal}}
              </div>
            </div>
            <div class="row">
              <div class="col-md-3">
                  <label  class=" control-label">Cargo Grade</label>
              </div>
              <div class="col-md-4">
                {{load.cargo_grade}}
              </div>
            </div>
            <div class="row">
              <div class="col-md-3">
                  <label  class=" control-label"> Api</label>
              </div>
              <div class="col-md-4">
                {{load.api}}
              </div>
            </div>
            <div class="row">
              <div class="col-md-3">
                  <label  class=" control-label"> Volume</label>
              </div>
              <div class="col-md-4">
                {{load.volume}}
              </div>
            </div>
            <div class="row">
              <div class="col-md-3">
                  <label  class=" control-label"> Select Volume</label>
              </div>
              <div class="col-md-4">
                {{load.volume}}
              </div>
            </div>
            <div class="row">
              <div class="col-md-3">
                  <label  class=" control-label"> Date1</label>
              </div>
              <div class="col-md-4">
                {{load.date1}}
              </div>
            </div>
            <div class="row">
              <div class="col-md-3">
                  <label  class=" control-label"> Date2</label>
              </div>
              <div class="col-md-4">
                {{load.date2}}
              </div>
            </div>
            <div class="row">
              <div class="col-md-3">
                <label  class=" control-label text-left">Loading Tolerance</label>
              </div>
              <div class="col-md-9">
                {{load.loading_tolerance}}
              </div>
            </div>
            <div class="row">
              <div class="col-md-3">
                <label  class=" control-label text-left">Volume Tolerance</label>
              </div>
              <div class="col-md-9">
                {{load.volume_tolerance}} %
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-xs-12">
                <div class="custom-fieldset">
                    <div class="panel panel-primary">
                        <div class="panel-body">
                          <h3 class="text-on-pannel text-primary"><strong class="text-uppercase"> Narrowing</strong></h3>
                          <div class="form-group">
                              <div class="col-md-3">
                                  <label  class=" control-label"> Load Window</label>
                              </div>
                              <div class="col-md-3">
                                {{load.window_1}}
                              </div>
                              <div class="col-md-3">
                                  <label  class=" control-label"> Days Before 1</label>
                              </div>
                              <div class="col-md-3">
                                {{load.days_before_1}}
                              </div>
                              <div class="clearfix"></div>
                              <div class="col-md-3">
                                  <label  class=" control-label"> Load Window</label>
                              </div>
                              <div class="col-md-3">
                                {{load.window_2}}
                              </div>
                              <div class="col-md-3">
                                  <label  class=" control-label"> Days Before 2</label>
                              </div>
                              <div class="col-md-3">
                                {{load.days_before_2}}
                              </div>
                              <div class="clearfix"></div>
                              <div class="col-md-3">
                                  <label  class=" control-label"> Comments</label>
                              </div>
                              <div class="col-md-3">
                                {{load.comments}}
                              </div>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
            </div>
          </div>
          <div class="col-lg-6 col-xs-12">
              <p><b>Discharge Details</b>
              </p>
              <div class="row">
                <div class="col-md-3">
                    <label  class=" control-label">Receiver</label>
                </div>
                <div class="col-md-4">
                  {{discharge.receiver}}
                </div>
              </div>
              <div class="row">
                <div class="col-md-3">
                    <label  class=" control-label">Port</label>
                </div>
                <div class="col-md-4">
                  {{discharge.port}}
                </div>
              </div>
              <div class="row">
                <div class="col-md-3">
                    <label  class=" control-label">Discharge Terminal</label>
                </div>
                <div class="col-md-4">
                  {{discharge.discharge_terminal}}
                </div>
              </div>
              <div class="row">
                <div class="col-md-3">
                    <label  class=" control-label">Cargo Grade</label>
                </div>
                <div class="col-md-4">
                  {{discharge.cargo_grade}}
                </div>
              </div>
              <div class="row">
                <div class="col-md-3">
                    <label  class=" control-label"> Api</label>
                </div>
                <div class="col-md-4">
                  {{discharge.api}}
                </div>
              </div>
              <div class="row">
                <div class="col-md-3">
                    <label  class=" control-label"> Volume</label>
                </div>
                <div class="col-md-4">
                  {{discharge.volume}}
                </div>
              </div>
              <div class="row">
                <div class="col-md-3">
                    <label  class=" control-label"> Select Volume</label>
                </div>
                <div class="col-md-4">
                  {{discharge.volume}}
                </div>
              </div>
              <div class="row">
                <div class="col-md-3">
                    <label  class=" control-label"> Date1</label>
                </div>
                <div class="col-md-4">
                  {{discharge.date1}}
                </div>
              </div>
              <div class="row">
                <div class="col-md-3">
                    <label  class=" control-label"> Date2</label>
                </div>
                <div class="col-md-4">
                  {{discharge.date2}}
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <label  class=" control-label text-left">Discharge Tolerance</label>
                </div>
                <div class="col-md-4">
                  {{discharge.discharge_tolerance}} %
                </div>
              </div>
              <div class="row">
                <div class="col-md-3">
                  <label  class=" control-label text-left">Volume Tolerance</label>
                </div>
                <div class="col-md-4">
                  {{discharge.volume_tolerance}}
                </div>
              </div>
              <div class="row">
                <div class="col-lg-12 col-xs-12">
                  <div class="custom-fieldset">
                      <div class="panel panel-primary">
                          <div class="panel-body">
                            <h3 class="text-on-pannel text-primary"><strong class="text-uppercase"> Narrowing</strong></h3>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label  class=" control-label"> Discharge Window</label>
                                </div>
                                <div class="col-md-3">
                                  {{discharge.window_1}}
                                </div>
                                <div class="col-md-3">
                                    <label  class=" control-label"> Days Before 1</label>
                                </div>
                                <div class="col-md-3">
                                  {{discharge.days_before_1}}
                                </div>
                                <div class="clearfix"></div>
                                <div class="col-md-3">
                                    <label  class=" control-label"> Discharge Window </label>
                                </div>
                                <div class="col-md-3">
                                  {{discharge.window_2}}
                                </div>
                                <div class="col-md-3">
                                    <label  class=" control-label"> Days Before 2</label>
                                </div>
                                <div class="col-md-3">
                                  {{discharge.days_before_2}}
                                </div>
                                <div class="clearfix"></div>
                                <div class="col-md-2">
                                    <label  class=" control-label"> Comments</label>
                                </div>
                                <div class="col-md-4">
                                  {{discharge.comments}}
                                </div>
                              </div>
                          </div>
                      </div>
                  </div>
                  </div>
              </div>
            </div>
          <div class="row">
            <div class="col-lg-12 col-xs-12">
              <div class="seprator" style="border-bottom: 1px solid #265728 !important;"></div>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-6 col-xs-12">
                <div class="custom-fieldset">
                    <div class="panel panel-primary">
                        <div class="panel-body">
                          <h3 class="text-on-pannel text-primary"><strong class="text-uppercase"> Shipping Details</strong></h3>
                          <div class="form-group">
                              <div class="col-md-4">
                                <label  class=" control-label text-left">Required Segregation</label>
                              </div>
                              <div class="col-md-8">
                                {{shipping.segergation}}
                              </div>
                              <div class="clearfix"></div>                          
                              <div class="col-md-4">
                                <label  class=" control-label text-left">Tank Preparation</label>
                              </div>
                              <div class="col-md-8">
                                {{shipping.tank_preparation}}
                              </div>
                              <div class="clearfix"></div>
                              <div class="col-md-4">
                                <label  class=" control-label text-left">Cargo Finance Required</label>
                                </div>
                                <div class="col-md-8">
                                  {{shipping.cargo_finance}}
                              </div>
                              <div class="clearfix"></div>
                              <div class="col-md-4">
                                <label class=" control-label text-left">Cargo Insurance Required</label>
                                </div>
                              <div class="col-md-8">
                                {{shipping.cargo_insurance}}
                              </div>
                              <div class="clearfix"></div>
                              <div class="col-md-4">
                                <label  class=" control-label text-left"> Estimate Of Cargo Value</label>
                              </div>
                              <div class="col-md-8">
                                {{shipping.estimate_cargo_value}}
                              </div>
                              <div class="clearfix"></div>
                              <div class="col-md-4">
                                <label  class=" control-label text-left"> Volume Inspection Required</label>
                              </div>
                              <div class="col-md-8">
                                {{shipping.volume_inspection}}
                              </div>
                              <div class="clearfix"></div>
                              <div class="col-md-4">
                                <label  class=" control-label text-left"> Loss Control Required</label>
                              </div>
                              <div class="col-md-8">
                                {{shipping.loss_control}}
                              </div>
                              <div class="clearfix"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-xs-12">
                <div class="custom-fieldset">
                    <div class="panel panel-primary quote-summery-window">
                        <div class="panel-body">
                          <h3 class="text-on-pannel text-primary"><strong class="text-uppercase"> Quote</strong></h3>
                          <div class="form-group">
                          <div class="col-md-4">
                            <label  class=" control-label text-left"> Require Named Vessel</label>
                          </div>
                          <div class="col-md-8">
                            {{quote.named_vessel}}
                          </div>
                          <div class="clearfix"></div>
                          <div class="col-md-4">
                            <label  class=" control-label text-left"> Itinerary Lock</label>
                          </div>
                          <div class="col-md-8">
                            {{quote.itinerary_required}}
                          </div>
                          <div class="clearfix"></div>
                          <div class="col-md-4">
                            <label class=" control-label text-left"> Pricing</label>
                          </div>
                          <div class="col-md-8">
                            {{quote.pricing}}
                          </div>
                          <div class="clearfix"></div>
                          <div class="col-md-4">
                            <label  class=" control-label text-left"> Units </label>
                          </div>
                          <div class="col-md-8">
                            {{quote.units}}
                          </div>
                          <div class="clearfix"></div>
                          <div class="col-md-4">
                            <label  class=" control-label text-left"> Required Validity</label>
                          </div>
                          <div class="col-md-8">
                              {{quote.required_validity_date}} - {{quote.required_validity_time}}
                          </div>
                          <div class="clearfix"></div>
                          </div>
                        </div>
                    </div>
                </div>
            </div>
          </div>              
        </form>        
    </div>
    <div class="modal-footer" *ngIf="!onlyInquirySummery">
        <div class="row"> 
        <div class="col-lg-12 col-xs-12">               
        <div class="form-group pull-right">
              <button type="button" class="btn btn-default" aria-label="Close" (click)="modalRef.hide()">Cancel</button>
              <button type="button" class="btn btn-primary" (click)='onSubmitQuote()'
              >
                {{modalSaveBtnTxt}}</button>
          </div>
        </div>
        </div>
    </div>
</ng-template>
<ng-template #updateModal>
  <div class="modal-header">
      <h4 class="modal-title pull-left"> Update Price For This Inquiry Quote</h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
  <form class="form-horizontal" (submit)='onUpdatePrice()' >
  <div class="modal-body">
    <div class="col-lg-12 col-xs-12" >
      <div class="form-group">
      <div class="col-md-2">
        <label  class=" control-label">Price</label>
      </div>
      <div class="col-md-10">
          <input type="text" class="form-control" placeholder="Update Price" name="quotePrice.price" [(ngModel)]="quotePrice.price">
      </div>
      </div>      
    </div>
    <div class="col-lg-12 col-xs-12" >
      <div class="form-group">      
      <div class="col-md-2">
        <label  class=" control-label">Comments</label>
      </div>
      <div class="col-md-10">
        <textarea name="" id="" class="form-control" rows="5" placeholder="write Comments" [(ngModel)]="quotePrice.comments"
        name="quotePrice.comments"
        ></textarea>
      </div>
      </div>
    </div>
    <div class="col-lg-12 col-xs-12" >
      <div class="form-group">      
      <div class="col-md-2">
        <label  class=" control-label">Date</label>
      </div>
      <div class="col-md-10">
        <input type="date" name="" id=""  class="form-control" [ngModel]="quotePrice.date | date:'yyyy-MM-dd'" (ngModelChange)="quotePrice.date=$event"  name="quotePrice.date">
      </div>
      </div>
    </div>
    <div class="col-lg-12 col-xs-12" >
      <div class="form-group">      
      <div class="col-md-2">
        <label  class=" control-label">Time</label>
      </div>
      <div class="col-md-10">
          <ngb-timepicker [(ngModel)]="quotePrice.time" name="quotePrice.time"></ngb-timepicker>  
      </div>
      </div>
    </div>
  </div>
  <div class="clearfix"></div>
  <div class="modal-footer">
      <div class="row"> 
      <div class="col-lg-12 col-xs-12" *ngIf="targetInquiryQuote.validity_status; else validityExpiredDiv"> 
        <div class="col-md-10 col-md-offset-2">              
        <div class="form-group">
            <div *ngIf="quotePrice.status === 'accepted'" class="label label-success text-left">Congrats, Quote Accepted</div>  
          <div *ngIf="!auth.isAdmin; else imAdmin">
              <!--USER-->
              <div *ngIf="quotePrice.quoted_by === auth.loggedinName; else quotedByAdmin">
                <p *ngIf="quotePrice.status === 'pending'"  class="label label-primary text-left"> Waiting For Admin To Take Action</p>
                <p *ngIf="quotePrice.status === 'rejected'"  class="label label-warning text-left"> Quote Rejected By Admin. Please Wait To Get New Price Quote.</p>
              </div>
              <ng-template #quotedByAdmin>
                  <div *ngIf="targetInquiryQuote.status === 'pending'  then quotepriceaction;"> </div>
                  <div *ngIf="targetInquiryQuote.status === 'rejected'  then newquoteprice"></div>
              </ng-template>
          </div>
          <ng-template #imAdmin>
              <div *ngIf="quotePrice.quoted_by === auth.loggedinName; else quotedByUser">
                  <p *ngIf="quotePrice.status === 'pending'" class="label label-primary text-left"> Waiting For User To Take Action</p>
                  <p *ngIf="quotePrice.status === 'rejected'"  class="label label-warning text-left"> Quote Rejected By User. Please Wait To Get New Price Quote.</p>
              </div>
              <div *ngIf="targetInquiryQuote.price_request then  newquoteprice"> </div>
              <ng-template #quotedByUser>
                  <div *ngIf="!targetInquiryQuote.price_request && targetInquiryQuote.status === 'pending'  then quotepriceaction;"> </div>
                  <div *ngIf="!targetInquiryQuote.price_request && targetInquiryQuote.status === 'rejected'  then newquoteprice"></div>
              </ng-template>        
          </ng-template>
        </div>
        </div>
      </div>
      <ng-template #validityExpiredDiv>
        <div class="col-lg-12 col-xs-12">
            <div class="alert alert-dismissible alert-danger text-left">
                <strong>Oh no!</strong> 
                Time Validity For This Quote Is Expired.
            </div>
        </div>
      </ng-template>
      </div>
   
  </div> 
</form>
</ng-template>
<ng-template #editDetail>
    <div class="modal-header">
        <h4 class="modal-title pull-left"> Edit  <span class="capitalize">{{quoteDetailsKey}}</span>  Details</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    <div class="modal-body">
      <div class="col-lg-12 col-xs-12" style="border-bottom: 1px solid #265728 !important; bottom: 13px;">
        <form action="" *ngIf="quoteDetailsKey == 'load'; else dischargeDetails">
          <div class="form-group">
              <input [(ngModel)]="load.supplier"
              name="supplier"
              [typeahead]='filterArray(supplierList)'
              class="form-control"
              placeholder="Select Supplier">
          </div>
          <div class="form-group">
              <input [(ngModel)]="load.port"
              name="port"
              [typeahead]='filterArray(portList)'
              class="form-control"
              placeholder="Select Port">
          </div>
          <div class="form-group">
              <input [(ngModel)]="load.load_terminal"
              name="load_terminal"
              [typeahead]='filterArray(loadTerminalList)'
              class="form-control"
              placeholder="Select Load Terminal">
          </div>
          <div class="form-group">
              <input [(ngModel)]="load.cargo_grade"
              name="cargo_grade"
              [typeahead]='filterArray(cargoGradeList)'
              class="form-control"
              placeholder="Select Cargo Grade">
          </div>
          <div class="form-group">
              <input type="text" class="form-control" placeholder="API" [(ngModel)]="load.api" name="api">
          </div>
          <div class="row">
              <div class="col-md-6">
                  <div class="form-group">
                      <input type="text" class="form-control" name="volume" placeholder="Volume" 
                      [(ngModel)]="load.volume" name="volume">
                  </div>
              </div>
              <div class="col-md-5 col-md-offset-1">
                  <div class="form-group">
                  <select class="form-control pull-right "   >
                      <option value="" selected hidden>Select Volume</option>
                      <option  *ngFor="let option of volumeList" [value]="option">
                          {{option}}
                      </option>
                  </select>
                  </div>
              </div>
          </div>
          <div class="row">
              <div class="form-group">
                <div class="col-md-2">
                  <label  class=" control-label">Date</label>
                </div>
                <div class="col-md-5">
                  <input type="date" class="form-control" placeholder="Load Window" name="date1" [(ngModel)]="load.date1">
                </div>
                <div class="col-md-5">
                  <input type="date" class="form-control" placeholder="Load Window" name="date2" [(ngModel)]="load.date2">
                </div>
              </div>
          </div>
          <div class="row">
              <div class="custom-fieldset">
                  <div class="panel panel-primary">
                      <div class="panel-body">
                        <h3 class="text-on-pannel text-primary"><strong class="text-uppercase"> Narrowing</strong></h3>
                        <div class="form-group">
                            <div class="col-md-6">
                              <input type="text" class="form-control" placeholder="Load Window" name="window_1" [(ngModel)]="load.window_1">
                            </div>
                            <div class="col-md-6">
                              <input type="text" class="form-control" placeholder="Days Before" name="days_before_1" [(ngModel)]="load.days_before_1">
                            </div>
                            <div class="clearfix"></div>
                            <div class="col-md-6">
                              <input type="text" class="form-control" placeholder="Load Window" name="window_2" [(ngModel)]="load.window_2">
                            </div>
                            <div class="col-md-6">
                              <input type="text" class="form-control" placeholder="Days Before" name="days_before_2" [(ngModel)]="load.days_before_2">
                            </div>
                            <div class="col-md-12">
                              <input type="text" class="form-control" placeholder="Comments" name="comments" [(ngModel)]="load.comments">
                            </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
          <div class="row">
              <div class="form-group">
                <div class="col-md-3">
                  <label  class=" control-label text-left">Loading Tolerance</label>
                </div>
                <div class="col-md-9">
                  <select   class="form-control" name="loading_tolerance" [(ngModel)]="load.loading_tolerance">
                    <option value="" hidden selected> Select Loading Tolerance</option>
                    <option  *ngFor="let option of loadingTolerance" [value]="option">
                        {{option}} %
                    </option>
                  </select>
                </div>
              </div>
          </div>
          <div class="row">
              <div class="form-group">
                <div class="col-md-3">
                  <label  class=" control-label text-left">Volume Tolerance</label>
                </div>
                <div class="col-md-9">
                  <select   class="form-control" name="volume_tolerance" [(ngModel)]="load.volume_tolerance">
                    <option value="" hidden selected> Select Volume Tolerance</option>
                    <option  *ngFor="let option of volumeTolerance" [value]="option">
                        {{option}}
                    </option>
                  </select>
                </div>
              </div>
          </div>
        </form>
        </div>
      </div>
      <div class="modal-footer">
        <div class="col-lg-12 col-xs-12">
          <div class="row"> 
          <div class="form-group pull-right">
                <button type="button" class="btn btn-default" aria-label="Close" (click)="modalRef.hide()">Cancel</button>
                <button type="button" class="btn btn-primary" (click)='updateDetail();'>
                  <span class="glyphicon glyphicon-arrow-up"></span> Update</button>
            </div>
          </div>
        </div>
      </div>
</ng-template>
<ng-template #dischargeDetails>
  <div class="form-group">
      <input [(ngModel)]="discharge.receiver"
      name="receiver"
      [typeahead]='filterArray(receiverList)'
      class="form-control"
      placeholder="Select Receiver">
  </div>
  <div class="form-group">
      <input [(ngModel)]="discharge.port"
      name="discharge.port"
      [typeahead]='filterArray(portList)'
      class="form-control"
      placeholder="Select Port">
  </div>
  <div class="form-group">
      <input [(ngModel)]="discharge.discharge_terminal"
      name="discharge_terminal"
      [typeahead]='filterArray(disTerminalList)'
      class="form-control"
      placeholder="Select Discharge Terminal">
  </div>
  <div class="form-group">
      <input [(ngModel)]="discharge.cargo_grade"
      name="discharge.cargo_grade"
      [typeahead]='filterArray(cargoGradeList)'
      class="form-control"
      placeholder="Select Cargo Grade">
  </div>
  <div class="form-group">
      <input type="text" class="form-control" placeholder="API" name="api" [(ngModel)]="discharge.api">
  </div>
  <div class="row">
      <div class="form-group">
          <div class="col-md-6">
              <input type="text" class="form-control" placeholder="Volume" name="volume" [(ngModel)]="discharge.volume" >
          </div>
          <div class="col-md-5 col-md-offset-1">
              <select class="form-control pull-right "   >
                  <option value="" selected hidden>Select Volume</option>
                  <option  *ngFor="let option of volumeList" [value]="option">
                      {{option}}
                  </option>
              </select>
          </div>
    </div>
  </div>
  <div class="row">
    <div class="form-group">
      <div class="col-md-2">
        <label  class=" control-label">Date</label>
      </div>
      <div class="col-md-5">
        <input type="date" class="form-control" placeholder="Load Window" name="date1" [(ngModel)]="discharge.date1">
      </div>
      <div class="col-md-5">
        <input type="date" class="form-control" placeholder="Load Window" name="date1" [(ngModel)]="discharge.date2">
      </div>
    </div>
  </div>  
  <div class="row">
    <div class="custom-fieldset">
        <div class="panel panel-primary">
            <div class="panel-body">
              <h3 class="text-on-pannel text-primary"><strong class="text-uppercase"> Narrowing</strong></h3>
              <div class="form-group">
                  <div class="col-md-6">
                    <input type="text" class="form-control" placeholder="Discharge Window" name="window_1" [(ngModel)]="discharge.window_1">
                  </div>
                  <div class="col-md-6">
                    <input type="text" class="form-control" placeholder="Days Before" name="days_before_1" [(ngModel)]="discharge.days_before_1">
                  </div>
                  <div class="clearfix"></div>
                  <div class="col-md-6">
                    <input type="text" class="form-control" placeholder="Discharge Window" name="window_2" [(ngModel)]="discharge.window_2">
                  </div>
                  <div class="col-md-6">
                    <input type="text" class="form-control" placeholder="Days Before" name="days_before_2" [(ngModel)]="discharge.days_before_2">
                  </div>
                  <div class="col-md-12">
                    <input type="text" class="form-control" placeholder="Comments" name="comments" [(ngModel)]="discharge.comments">
                  </div>
                </div>
            </div>
        </div>
    </div>
  </div>
  <div class="row">
    <div class="form-group">
      <div class="col-md-3">
        <label  class=" control-label text-left">Discharge Tolerance</label>
      </div>
      <div class="col-md-9">
          <select   class="form-control" name="discharge_tolerance" [(ngModel)]="discharge.discharge_tolerance">
              <option value="" hidden selected> Select Discharge Tolerance</option>
              <option  *ngFor="let option of loadingTolerance" [value]="option">
                  {{option}} %
              </option>
            </select>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="form-group">
      <div class="col-md-3">
        <label  class=" control-label text-left">Volume Tolerance</label>
      </div>
      <div class="col-md-9">
        <select   class="form-control" name="volume_tolerance" [(ngModel)]="discharge.volume_tolerance">
          <option value="" hidden selected> Select Volume Tolerance</option>
              <option  *ngFor="let option of volumeTolerance" [value]="option">
                  {{option}}
              </option>
        </select>
      </div>
    </div>
  </div>
</ng-template>
<ng-template #viewDetail>
    <div class="modal-header">
        <h4 class="modal-title pull-left"> Inquiry Quote <span class="capitalize">{{quoteDetailsKey}}</span> Details</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    <div class="modal-body">
    <div class="col-lg-12 col-xs-12" style="border-bottom: 1px solid #265728 !important; bottom: 13px;">
      <div class="table-responsive">
      <table class="table table-striped table-hover">
          <thead>
              <tr>
              <th>#</th>
              <th *ngIf="quoteDetailsKey == 'load'; else dischargeReceiver"  (click)="sort('supplier')">
                  <span class="glyphicon sort-icon" *ngIf="key =='supplier'" 
                  [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                  Supplier
              </th>
              <ng-template #dischargeReceiver>
                  <th  (click)="sort('receiver')">
                      <span class="glyphicon sort-icon" *ngIf="key =='receiver'" 
                      [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                      Receiver
                  </th>
              </ng-template>
              <th (click)="sort('port')">
                  <span class="glyphicon sort-icon" *ngIf="key =='port'" 
                  [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                  Cargo Finance
              </th>
              <th *ngIf="quoteDetailsKey == 'load'; else dischargeTerminal" (click)="sort('load_terminal')">
                  <span class="glyphicon sort-icon" *ngIf="key =='load_terminal'" 
                  [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                  Load Terminal
              </th>
              <ng-template #dischargeTerminal>
                  <th  (click)="sort('discharge_terminal')">
                      <span class="glyphicon sort-icon" *ngIf="key =='discharge_terminal'" 
                      [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                      Discharge Terminal
                  </th>
              </ng-template>         
              <th (click)="sort('port')">
                  <span class="glyphicon sort-icon" *ngIf="key =='port'" 
                  [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                  Port
              </th>
              <th (click)="sort('api')">
                  <span class="glyphicon sort-icon" *ngIf="key =='api'" 
                  [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                  Api
              </th>
              <th (click)="sort('volume')">
                  <span class="glyphicon sort-icon" *ngIf="key =='volume'" 
                  [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                  Volume
              </th>
              <th *ngIf="quoteDetailsKey == 'load'; else dischargeTolerance" (click)="sort('loading_tolerance')">
                  <span class="glyphicon sort-icon" *ngIf="key =='loading_tolerance'" 
                  [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                  Load Tolerance
              </th>
              <ng-template #dischargeTolerance>
                  <th  (click)="sort('discharge_tolerance')">
                      <span class="glyphicon sort-icon" *ngIf="key =='discharge_tolerance'" 
                      [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                      Discharge Tolerance
                  </th>
              </ng-template> 
              <th (click)="sort('volume_tolerance')">
                  <span class="glyphicon sort-icon" *ngIf="key =='volume_tolerance'" 
                  [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                  Volume Tolerance
              </th>
              <th>Action</th>
          </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of viewList; index as i " >
              <td>{{i+1}}</td>
              <td *ngIf="quoteDetailsKey == 'load'; else tdDischargeReceiver">{{item.supplier}}</td>
              <ng-template #tdDischargeReceiver>
                  <td>{{item.receiver}}</td>
              </ng-template>
              <td>{{item.port}}</td>
              <td *ngIf="quoteDetailsKey == 'load'; else tdDischargeTerminal">{{item.load_terminal}}</td>
              <ng-template #tdDischargeTerminal>
                  <td>{{item.discharge_terminal}}</td>
              </ng-template>
              <td>{{item.cargo_grade}}</td>
              <td>{{item.api}}</td>
              <td>{{item.volume}}</td>
              <td *ngIf="quoteDetailsKey == 'load'; else tdDischargeTolerance">{{item.loading_tolerance}}%</td>
              <ng-template #tdDischargeTolerance>
                  <td>{{item.discharge_tolerance}}%</td>
              </ng-template>
              <td>{{item.volume_tolerance}}</td>
              <td>
                <a href="javascript:void(0)" (click)="modalRef.hide(); editDetails(i, editDetail)"> 
                  <span class="glyphicon glyphicon-pencil"></span> 
                </a>
                &nbsp;&nbsp; 
                <a href="javascript:void(0)" (click)="removeDetailItems(i)" class="danger">
                  <span class="glyphicon glyphicon-trash"></span>
                </a>                            
              </td>
            </tr>
          </tbody>
      </table>
      </div>
    </div>
    </div>
    <div class="modal-footer">
        <div class="row"> 
        <div class="col-lg-12 col-xs-12">               
        <div class="form-group pull-right">
              <button type="button" class="btn btn-default" aria-label="Close" (click)="modalRef.hide()">Close</button>
          </div>
        </div>
        </div>
    </div>
</ng-template>
<ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title pull-left">{{modalTitleTxt}}</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body" style="border-bottom: 1px solid #265728 !important">
      <form class="form-horizontal"  #f="ngForm">
        <div class="col-lg-6 col-xs-12">
          <p><b>Loading Details</b>
          </p>
          <div class="col-lg-10 col-xs-12">
            <span class=pull-right>
                <ul class="nav nav-pills">
                    <li style="top: -36px !important"> Total Load Added <span class="badge">{{loadList?.length}}</span></li>
                  </ul>
            </span>                  
          <div class="form-group">
              <input [(ngModel)]="load.supplier"
              name="supplier"
              [typeahead]='filterArray(supplierList)'
              class="form-control"
              placeholder="Select Supplier">
          </div>
          <div class="form-group">
              <input [(ngModel)]="load.port"
              name="port"
              [typeahead]='filterArray(portList)'
              class="form-control"
              placeholder="Select Port">
          </div>
          <div class="form-group">
              <input [(ngModel)]="load.load_terminal"
              name="load_terminal"
              [typeahead]='filterArray(loadTerminalList)'
              class="form-control"
              placeholder="Select Load Terminal">
          </div>
          <div class="form-group">
              <input [(ngModel)]="load.cargo_grade"
              name="cargo_grade"
              [typeahead]='filterArray(cargoGradeList)'
              class="form-control"
              placeholder="Select Cargo Grade">
          </div>
          <div class="form-group">
              <input type="text" class="form-control" placeholder="API" [(ngModel)]="load.api" name="api">
            </div>
          <div class="row">
              <div class="col-md-6">
                  <div class="form-group">
                      <input type="text" class="form-control" name="volume" placeholder="Contract Volume" 
                      [(ngModel)]="load.volume" name="volume">
                  </div>
              </div>
              <div class="col-md-5 col-md-offset-1">
                  <div class="form-group">
                  <select class="form-control pull-right "   >
                      <option value="" selected hidden>Select Units</option>
                      <option  *ngFor="let option of volumeList" [value]="option">
                          {{option}}
                      </option>
                  </select>
                  </div>
              </div>
          </div>
          <div class="row">
              <div class="form-group">
                <div class="col-md-3">
                  <label  class=" control-label text-left">Loading Tolerance</label>
                </div>
                <div class="col-md-9">
                  <select   class="form-control" name="loading_tolerance" [(ngModel)]="load.loading_tolerance">
                    <option value="" hidden selected> Select Loading Tolerance</option>
                    <option  *ngFor="let option of loadingTolerance" [value]="option">
                        {{option}} %
                    </option>
                  </select>
                </div>
              </div>
          </div>
          <div class="row">
              <div class="form-group">
                <div class="col-md-3">
                  <label  class=" control-label text-left">Volume Tolerance</label>
                </div>
                <div class="col-md-9">
                  <select   class="form-control" name="volume_tolerance" [(ngModel)]="load.volume_tolerance">
                    <option value="" hidden selected> Select Volume Tolerance</option>
                    <option  *ngFor="let option of volumeTolerance" [value]="option">
                        {{option}}
                    </option>
                  </select>
                </div>
              </div>
          </div>
          <div class="row">
              <div class="form-group">
                <div class="col-md-3">
                  <label  class=" control-label">Load Window</label>
                </div>
                <div class="col-md-4">
                  <input type="date" class="form-control" placeholder="Load Window" name="date1" [(ngModel)]="load.date1">
                </div>
                <div class="col-md-4">
                  <input type="date" class="form-control" placeholder="Load Window" name="date2" [(ngModel)]="load.date2">
                </div>
              </div>
          </div>
          <div class="row">
              <div class="custom-fieldset">
                  <div class="panel panel-primary">
                      <div class="panel-body">
                        <h3 class="text-on-pannel text-primary"><strong class="text-uppercase"> Narrowing</strong></h3>
                        <div class="form-group">
                            <div class="col-md-6">
                              <input type="text" class="form-control" placeholder="Load Window" name="window_1" [(ngModel)]="load.window_1">
                            </div>
                            <div class="col-md-6">
                              <input type="text" class="form-control" placeholder="Days Before" name="days_before_1" [(ngModel)]="load.days_before_1">
                            </div>
                            <div class="clearfix"></div>
                            <div class="col-md-6">
                              <input type="text" class="form-control" placeholder="Load Window" name="window_2" [(ngModel)]="load.window_2">
                            </div>
                            <div class="col-md-6">
                              <input type="text" class="form-control" placeholder="Days Before" name="days_before_2" [(ngModel)]="load.days_before_2">
                            </div>
                            <div class="col-md-12">
                              <input type="text" class="form-control" placeholder="Comments" name="comments" [(ngModel)]="load.comments">
                            </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
          <div class="row">
              <div class="col-md-10 col-md-offset-1">
              <div class="form-group">
                  <button type="button" 
                    class="btn btn-primary btn-block" (click)="addAnotherLoad()">
                    <span class="glyphicon glyphicon-plus-sign"></span> 
                    ADD ANOTHER LOAD
                  </button>
              </div>
              </div>
          </div>
        </div>
        </div>
        <div class="col-lg-6 col-xs-12">
          <p><b> Discharge Details </b></p>
          <div class="col-lg-10 col-xs-12">
            <span class=pull-right>
                <ul class="nav nav-pills">
                  <li style="top: -36px !important"> Total Discharge Added <span class="badge">{{disChargeList?.length}}</span></li>
                </ul>
            </span>
              <div class="form-group">
                  <input [(ngModel)]="discharge.receiver"
                  name="receiver"
                  [typeahead]='filterArray(receiverList)'
                  class="form-control"
                  placeholder="Select Receiver">
              </div>
              <div class="form-group">
                  <input [(ngModel)]="discharge.port"
                  name="discharge.port"
                  [typeahead]='filterArray(portList)'
                  class="form-control"
                  placeholder="Select Port">
              </div>
              <div class="form-group">
                  <input [(ngModel)]="discharge.discharge_terminal"
                  name="discharge_terminal"
                  [typeahead]='filterArray(disTerminalList)'
                  class="form-control"
                  placeholder="Select Discharge Terminal">
              </div>
              <div class="form-group">
                  <input [(ngModel)]="discharge.cargo_grade"
                  name="discharge.cargo_grade"
                  [typeahead]='filterArray(cargoGradeList)'
                  class="form-control"
                  placeholder="Select Cargo Grade">
              </div>
              <div class="form-group">
                  <input type="text" class="form-control" placeholder="API" name="api" [(ngModel)]="discharge.api">
              </div>
              <div class="row">
                  <div class="form-group">
                      <div class="col-md-6">
                          <input type="text" class="form-control" placeholder="Contract Volume" name="volume" [(ngModel)]="discharge.volume" >
                      </div>
                      <div class="col-md-5 col-md-offset-1">
                          <select class="form-control pull-right "   >
                              <option value="" selected hidden>Select Units</option>
                              <option  *ngFor="let option of volumeList" [value]="option">
                                  {{option}}
                              </option>
                          </select>
                      </div>
                </div>
            </div>
            <div class="row">
                <div class="form-group">
                  <div class="col-md-3">
                    <label  class=" control-label text-left">Discharge Tolerance</label>
                  </div>
                  <div class="col-md-9">
                      <select   class="form-control" name="discharge_tolerance" [(ngModel)]="discharge.discharge_tolerance">
                          <option value="" hidden selected> Select Discharge Tolerance</option>
                          <option  *ngFor="let option of loadingTolerance" [value]="option">
                              {{option}} %
                          </option>
                        </select>
                  </div>
                </div>
            </div>
            <div class="row">
                <div class="form-group">
                  <div class="col-md-3">
                    <label  class=" control-label text-left">Volume Tolerance</label>
                  </div>
                  <div class="col-md-9">
                    <select   class="form-control" name="volume_tolerance" [(ngModel)]="discharge.volume_tolerance">
                      <option value="" hidden selected> Select Volume Tolerance</option>
                          <option  *ngFor="let option of volumeTolerance" [value]="option">
                              {{option}}
                          </option>
                    </select>
                  </div>
                </div>
            </div>
            <div class="row">
                <div class="form-group">
                  <div class="col-md-4">
                    <label  class=" control-label">Discharge Window</label>
                  </div>
                  <div class="col-md-4">
                    <input type="date" class="form-control" placeholder="Load Window" name="date1" [(ngModel)]="discharge.date1">
                  </div>
                  <div class="col-md-4">
                    <input type="date" class="form-control" placeholder="Load Window" name="date1" [(ngModel)]="discharge.date2">
                  </div>
                </div>
            </div>
            <div class="row">
                <div class="custom-fieldset">
                    <div class="panel panel-primary">
                        <div class="panel-body">
                          <h3 class="text-on-pannel text-primary"><strong class="text-uppercase"> Narrowing</strong></h3>
                          <div class="form-group">
                              <div class="col-md-6">
                                <input type="text" class="form-control" placeholder="Discharge Window" name="window_1" [(ngModel)]="discharge.window_1">
                              </div>
                              <div class="col-md-6">
                                <input type="text" class="form-control" placeholder="Days Before" name="days_before_1" [(ngModel)]="discharge.days_before_1">
                              </div>
                              <div class="clearfix"></div>
                              <div class="col-md-6">
                                <input type="text" class="form-control" placeholder="Discharge Window" name="window_2" [(ngModel)]="discharge.window_2">
                              </div>
                              <div class="col-md-6">
                                <input type="text" class="form-control" placeholder="Days Before" name="days_before_2" [(ngModel)]="discharge.days_before_2">
                              </div>
                              <div class="col-md-12">
                                <input type="text" class="form-control" placeholder="Comments" name="comments" [(ngModel)]="discharge.comments">
                              </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="form-group">
                    <div class="col-md-10 col-md-offset-1">
                    <button type="button" 
                      (click)= "addAnotherDischarge()"
                      class="btn btn-primary btn-block">
                      <span class="glyphicon glyphicon-plus-sign"></span>
                      ADD ANOTHER DISCHARGE
                    </button>
                  </div>
                </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-12 col-xs-12">
            <div class="seprator" style="border-bottom: 1px solid #265728 !important;"></div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-6 col-xs-12">
              <div class="custom-fieldset">
                  <div class="panel panel-primary">
                      <div class="panel-body">
                        <h3 class="text-on-pannel text-primary"><strong class="text-uppercase"> Shipping Details</strong></h3>
                        <div class="form-group">
                            <div class="col-md-4">
                              <label  class=" control-label text-left">Required Segregation</label>
                            </div>
                            <div class="col-md-8">
                              <select   class="form-control" name="segergation" [(ngModel)] = "shipping.segergation">
                                <option value="" hidden selected> Select Required Segregation</option>
                                <option value="single">Single Value</option>
                                <option value="double">Double Value</option>                                      
                              </select>
                            </div>
                            <div class="clearfix"></div>                          
                            <div class="col-md-4">
                              <label  class=" control-label text-left">Tank Preparation</label>
                            </div>
                            <div class="col-md-8">
                              <select class="form-control" name="tank_preparation" [(ngModel)] = "shipping.tank_preparation">
                                <option value="" hidden selected> Select Tank Preparation</option>
                                <option value="yes">YES</option>
                                <option value="no">NO</option>
                              </select>
                            </div>
                            <div class="clearfix"></div>
                            <div class="col-md-4">
                              <label  class=" control-label text-left">Cargo Finance Required</label>
                              </div>
                              <div class="col-md-8">
                              <select class="form-control" name="cargo_finance" [(ngModel)] = "shipping.cargo_finance">
                                <option value="" hidden selected> Cargo Finance Required</option>
                                <option value="yes">YES</option>
                                <option value="no">NO</option>
                              </select>
                            </div>
                            <div class="clearfix"></div>
                            <div class="col-md-4">
                              <label class=" control-label text-left">Cargo Insurance Required</label>
                              </div>
                            <div class="col-md-8">
                              <select class="form-control" name="cargo_insurance" [(ngModel)] = "shipping.cargo_insurance">
                                <option value="" hidden selected> Cargo Insurance Required</option>
                                <option value="yes">YES</option>
                                <option value="no">NO</option>
                              </select>
                            </div>
                            <div class="clearfix"></div>
                            <div class="col-md-4">
                              <label  class=" control-label text-left"> Estimate Of Cargo Value</label>
                            </div>
                            <div class="col-md-8">
                              <input type="text"  class="form-control" name="estimate_cargo_value" [(ngModel)] = "shipping.estimate_cargo_value"  placeholder="Provide Estimate Of Cargo Value">
                            </div>
                            <div class="clearfix"></div>
                            <div class="col-md-4">
                              <label  class=" control-label text-left"> Volume Inspection Required</label>
                            </div>
                            <div class="col-md-8">
                              <select class="form-control" name="volume_inspection" [(ngModel)] = "shipping.volume_inspection">
                                <option value="" hidden selected> Cargo Volume Inspection Required</option>
                                <option value="yes">YES</option>
                                <option value="no">NO</option>
                              </select>
                            </div>
                            <div class="clearfix"></div>
                            <div class="col-md-4">
                              <label  class=" control-label text-left"> Loss Control Required</label>
                            </div>
                            <div class="col-md-8">
                              <select class="form-control" name="loss_control" [(ngModel)] = "shipping.loss_control">
                                <option value="" hidden selected> Loss Control Required</option>
                                <option value="yes">YES</option>
                                <option value="no">NO</option>
                              </select>
                            </div>
                            <div class="clearfix"></div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
          <div class="col-lg-6 col-xs-12">
              <div class="custom-fieldset">
                  <div class="panel panel-primary quote-window" >
                      <div class="panel-body">
                        <h3 class="text-on-pannel text-primary"><strong class="text-uppercase"> Quote</strong></h3>
                        <div class="form-group">
                        <div class="col-md-4">
                          <label  class=" control-label text-left"> Require Named Vessel</label>
                        </div>
                        <div class="col-md-8">
                          <select class="form-control" name="named_vessel" [(ngModel)]="quote.named_vessel">
                            <option value="" hidden selected> Require Named Vessel</option>
                            <option value="yes">YES</option>
                            <option value="no">NO</option>
                          </select>
                        </div>
                        <div class="clearfix"></div>
                        <div class="col-md-4">
                          <label  class=" control-label text-left"> Itinerary Lock</label>
                        </div>
                        <div class="col-md-8">
                          <select class="form-control" name="itinerary_required" [(ngModel)]="quote.itinerary_required">
                            <option value="" hidden selected> Itinerary Lock</option>
                            <option value="yes">YES</option>
                            <option value="no">NO</option>
                          </select>
                        </div>
                        <div class="clearfix"></div>
                        <div class="col-md-4">
                          <label class=" control-label text-left"> Pricing</label>
                        </div>
                        <div class="col-md-8">
                          <select class="form-control" name="pricing" [(ngModel)]="quote.pricing">
                            <option value="" hidden selected> Pricing</option>
                            <option value="MarketRelated">MarketRelated</option>
                            <option value="IndexRelated">IndexRelated</option>
                            <option value="FixedRate">FixedRate</option>
                            <option value="TripCharter">TripCharter</option>                                  
                          </select>
                        </div>
                        <div class="clearfix"></div>
                        <div class="col-md-4">
                          <label  class=" control-label text-left"> Units </label>
                        </div>
                        <div class="col-md-8">
                          <select class="form-control" name="units" [(ngModel)]="quote.units">
                            <option value="" hidden selected> Select Units</option>
                            <option  *ngFor="let option of volumeList" [value]="option">
                              {{option}}
                          </option>                           
                          </select>
                        </div>
                        <div class="clearfix"></div>
                        <div class="col-md-4">
                            <label  class=" control-label text-left"> Required Validity Date</label>
                        </div>
                        <div class="col-md-4">
                          <input type="date" class="form-control" name="quote.required_validity_date" [(ngModel)]="quote.required_validity_date">
                        </div>
                        <div class="clearfix"></div>
                        <div class="col-md-4">
                            <label  class=" control-label text-left"> Required Validity Time</label>
                        </div>
                        <div class="col-md-4">
                            <ngb-timepicker [(ngModel)]="quote.required_validity_time" name="quote.required_validity_time"></ngb-timepicker>  
                        </div>
                        </div>
                      </div>
                  </div>
              </div>
          </div>
        </div>              
      </form>        
  </div>
  <div class="modal-footer">
      <div class="row"> 
      <div class="col-lg-12 col-xs-12">               
      <div class="form-group pull-right">
            <button type="button" class="btn btn-default" aria-label="Close" (click)="modalRef.hide()">Cancel</button>
            <button type="button" class="btn btn-primary" (click)='modalRef.hide();showSummery(summery)'>
              {{modalSaveBtnTxt}}</button>
        </div>
      </div>
      </div>
  </div>
</ng-template>
<div class="row page-header">
    <div class="col-lg-8  col-xs-8">
        <h5>INQUIRY HISTORY</h5>
    </div>
    <div class="col-lg-4  col-xs-4 header-btn">
        <button  class="btn btn-success pull-right" (click)="createCargoModal(template)">New Inquiry</button>
    </div>
</div>
<div class="row">
  <div class="col-lg-12  col-xs-12">
      <div class="show-hide-messages">
          <div [ngClass]="messageClass">{{ message }}</div>
      </div>
  </div>
  <div class="col-lg-2 col-lg-offset-5  col-xs-12 pull-right" style="display:none">
    <div  *ngIf="">
        <input type="text" [(ngModel)]="qoute" placeholder="Search Cargo Quote" 
        class=" form-control">
    </div>
</div> 
<div class="clearfix"></div>
<div class="col-lg-12  col-xs-12">
   <div class="table-responsive">
    <table class="table table-striped table-hover">
      <thead>
          <tr>
          <th>#ID</th>
          <th>Date Added</th>
          <th>View</th>
          <th>Added By</th>
          <th>Supplier</th>
          <th>Port</th>
          <th>Price</th>
          <th>Units</th>
          <th>Valid Until</th>
          <th>Countdown</th>
          <th>Action</th>
      </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of inquiryQuoteList; index as i " >
          <td>{{ item.dateadded | date:'yy'}}{{i+1 | inquiryNo }}</td>
          <td>{{ item.dateadded | date:'dd/MM/yyyy' }}</td>
          <td><a href="javascript:void(0);" (click) = 'inquirySummery(i, summery);'>View</a></td>
          <td>{{item.added_by}}</td>
          <td>{{item.load[0].supplier}}</td>
          <td>
           <!-- <a href="javascript:void(0)" (click)="viewContent(i, 'load', viewDetail)" >
              <span class="glyphicon glyphicon-circle-arrow-up"></span> Load 
            </a> -->
            {{item.load[0].port}}                      
        </td>
        <td> 
          <div *ngIf="auth.isAdmin; else imUser">
              <div *ngIf="item.price_request; else updatePrice">
                  <a  href="javascript:void(0)" (click)="updateQuotePrice(i, null, updateModal)"> 
                      <span class="glyphicon glyphicon-pencil"></span> Quote New Price
                  </a>
              </div>
          </div>
          <ng-template #imUser>
              <div *ngIf="item.price_request; else updatePrice">
                  <span class="label label-primary">Pending</span>
              </div>
          </ng-template>
        </td>
          <ng-template #updatePrice>
            <td> 
                <tr *ngFor="let priceList of item.price; index as p; let last = last " >
                  <td> <span [ngClass]="{'strike': !last}">${{priceList.price}}</span>
                  &nbsp;&nbsp; 
                  <a *ngIf="last" href="javascript:void(0)" (click)="updateQuotePrice(i, p, updateModal)"> 
                      <span class="glyphicon glyphicon-pencil"></span> View Quote Price 
                  </a>
                  </td>
                </tr>
            </td>
          </ng-template>
          <td>{{item.units}}</td>
          <td>
            {{item.required_validity_date}} - {{item.required_validity_time}}</td>
          <td>
            <countdown-timer *ngIf="item.validity_status && item.status === 'pending'; else validityExpired" [end]="item | timer" (zeroTrigger)="onTimerEnd(i, item._id)"></countdown-timer>
            <ng-template #validityExpired>
              <span class="label label-danger"  *ngIf="!item.validity_status">Validity Expired</span>
              <span class="label label-warning" *ngIf="item.status === 'rejected'">Rejected</span>
              <span class="label label-success" *ngIf="item.status === 'accepted'">Accepted</span>
            </ng-template>
          </td>
          <td>
              <a href="javascript:void(0)" (click)="removeQuote(i, item._id)" class="danger">
                <span class="glyphicon glyphicon-trash"></span>
              </a>                            
          </td>
        </tr>
      </tbody>
  </table>
  </div>
</div>
</div>
